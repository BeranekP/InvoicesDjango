{% extends "../base/base.html" %}
{% load i18n %} {% load l10n %} {% load static %}
    {% block title %}
    Invoice Factory - Nová faktura
    {% endblock %} 
{% block content %}


    <div class="container mt-3">
      <h2 class="mt-2, pb-5">Nová faktura</h2>
      <form action="./" method="POST">
        {% csrf_token %}
        <div class="form-group">
          <label for="recipientInput">Odběratel</label>
          <div class="d-flex flex-row w-100 align-items-center">
            <select
              class="form-control"
              id="recipientInput"
              name="recipient"
              required
            >
              <option value="" disabled selected>Vyberte odběratele</option>
              {% for recipient in recipients %}
              <option value="{{recipient.id}}">
                {{recipient}}
              </option>
              {% endfor %}
            </select>
            <a
              class="btn btn-primary ml-1"
              href="../../recipient/create/"
              title="Přidat odběratele"
              >+</a
            >
          </div>
        </div>
        {% localize off %}
        <div class="form-group">
          <label for="invoiceID">ID</label>
          <input
            type="number"
            class="form-control"
            id="invoiceID"
            name="id"
            value="{{ iid }}"
            required
          />
        </div>
        {% endlocalize%}
        <div class="form-group">
          <label for="descriptionTextarea">Popis</label>
          <textarea
            class="form-control"
            id="descriptionTextarea"
            rows="7"
            name="description"
            required
          ></textarea>
        </div>
        <div class="form-group">
          <label for="items">Rozpis položek</label>
          <input
            type="checkbox"
            class="form-check-input ml-2"
            id="items"
            name="hasItems"
          />
          <div id="itemList" class="w-100 justify-content-around"></div>
          <div
            id="addRow"
            class="mt-2 mb-2 justify-content-center w-100 d-flex"
          ></div>
        </div>
        <div class="form-group d-flex">
          <div class="mr-2 w-50">
            <label for="amountInput">Částka</label>
            <input
              type="number"
              class="form-control"
              id="amountInput"
              placeholder="1000"
              name="amount"
              step="1"
              value="{{invoice.amount|localize}}"
              required
            />
          </div>
          <div class="form-group ml-2 w-50">
            <label for="paymentInput">Způsob platby</label>
            <select name="payment" id="paymentInput" class="form-control">
              <option value="bankovním převodem">bankovním převodem</option>
              <option value="hotově">hotově</option>
            </select>
          </div>
        </div>

        <div class="form-inline mt-3 mb-3 w-100 d-flex justify-content-between">
          <label for="createdInput">Vystaveno</label>
          <input
            type="date"
            class="form-control"
            id="createdInput"
            name="created"
            value="{{ default_dates.created|date:'Y-m-d'}}"
            required
          />
          <label for="dueInput">Splatnost</label>
          <input
            type="date"
            class="form-control"
            id="dueInput"
            name="due"
            value="{{ default_dates.due|date:'Y-m-d'}}"
            required
          />
        </div>

        <div
          class="form-group d-flex w-100 align-items-center justify-content-center"
        >
          <a href="../" class="btn btn-warning mt-5 mr-5 w-25"
            >Zpět na přehled</a
          >
          <input
            class="btn btn-success mt-5 w-25"
            type="submit"
            value="Vystavit"
          />
        </div>
      </form>
    </div>
    {% endblock  %}
    {% block scripts %}
    <script src="{% static 'js/addInvoice.js'%}"></script>
    {% endblock  %}

