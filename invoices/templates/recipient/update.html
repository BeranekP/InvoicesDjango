{% extends "../base/base.html" %}
{% load i18n %} {% load l10n %} {% load static %}{% load zipcode %}
{% block style %}
<style>
body{
  background: #343a40;
  color: #f8f9fa;
}
.form-control{
background-color: #f1f1f1;
}

</style>
{% endblock %}

  {% block title %} Invoice Factory - Editovat odběratele {% endblock %}
  {% block content %}
  {% localize off %}
    <div class="container mt-3">
      <h2 class="mt-2, pb-5">Editovat odběratele <em>{{ recipient.name }}</em></h2>
      <form action="./" method="POST">
        {% csrf_token %}
        <div class="mb-3">
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="form" id="inlineRadio1" value="person" {% if recipient.form == "person" %} checked {% endif %} >
            <label class="form-check-label" for="inlineRadio1" >Fyzická osoba</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="form" id="inlineRadio2" value="company" {% if recipient.form == "company" %} checked {% endif %}>
            <label class="form-check-label" for="inlineRadio2">Firma</label>
          </div>
        </div>
        <div class="form-group row">
     
          <div class='col-sm-12 col-md-6' id="person">
            <label for="recipientInput">Jméno</label>
            <input
              type="text"
              class="form-control"
              id="recipientInput"
              name="name"
              value="{{recipient.name}}"
              placeholder="John"
              
            />
          </div>
          
            <div class='col-sm-12 col-lg-6' id="company">
              <label for="recipientSurname" id ="surname">Příjmení</label>
              <input
                type="text"
                class="form-control"
                id="recipientSurname"
                name="surname"
                value="{{recipient.surname}}"
                required
              />
            </div>
        </div>
        <div class="form-group">
          <label for="street">Ulice a čp.</label>
          <input
            type="text"
            class="form-control"
            id="street"
            name="street"
            value="{{recipient.street}}"
          />
        </div>
        <div class="form-group">
          <label for="town">Město</label>
          <input
            type="text"
            class="form-control"
            id="town"
            name="town"
            
            value="{{recipient.town}}"
          />
        </div>
        <div class="form-group">
          <label for="zipcode">PSČ</label>
          <input
            type="number"
            class="form-control"
            id="zipcode"
            
            name="zipcode"
            step="1"
            value="{{recipient.zipcode}}"
          />
        </div>
        <div class="form-group">
          <label for="state">Stát</label>
          <input
            type="text"
            class="form-control"
            id="state"
            value="{{recipient.state}}"
            name="state"
          />
        </div>
        <div class="form-group row">
          <div class="col-6">
            <label for="icInput">IČ</label>
            <input type="text" class="form-control" id="icInput" name="ic" value="{{recipient.ic|default_if_none:""}}"/>
          </div>
          <div class="col-6">
            <label for="dicInput">DIČ</label>
            <input type="text" class="form-control" id="dicInput" name="dic" value="{{recipient.dic|default_if_none:"" }}"/>
          </div>
        </div>

        <div
          class="form-group d-flex w-100 align-items-center justify-content-center"
        >
          <a href="{{ref}}" class="btn btn-outline-light mt-5 mr-5 w-25"
            >Zpět</a
          >
          <input
            class="btn btn-outline-success mt-5 w-25"
            type="submit"
            value="Uložit"
          />
        </div>
      </form>
    </div>
{% endlocalize %}
{% endblock %}
{% block scripts %}
<script>
let person = document.getElementById('inlineRadio1');
let company = document.getElementById('inlineRadio2');
company.addEventListener('change',()=>{
  if (company.checked){
    document.getElementById('person').classList.add('d-none');
    document.getElementById('surname').innerHTML = "Název";
    document.getElementById('company').classList.remove('col-lg-6');
    document.getElementById('company').classList.add('col-lg-12');

  }
  else{
    document.getElementById('person').classList.remove('d-none')
  }
 
})
person.addEventListener('change',()=>{
  if (person.checked){
    document.getElementById('person').classList.remove('d-none');
    document.getElementById('surname').innerHTML = "Příjmení";
    document.getElementById('company').classList.remove('col-lg-12');
    document.getElementById('company').classList.add('col-lg-6');
    
    
  }
  else{
    document.getElementById('person').classList.add('d-none')
    
  }
 
});
window.onload = function() {
  if (company.checked){
    document.getElementById('person').classList.add('d-none');
    document.getElementById('surname').innerHTML = "Název";
    document.getElementById('company').classList.remove('col-lg-6');
    document.getElementById('company').classList.add('col-lg-12');  
  }
};
</script>
{% endblock %}
